<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ExecView ‚Äì Client Reporting</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">EV</div>
        <div>
          <div class="brand-title">ExecView</div>
          <div class="brand-sub">Client health & KPI visibility</div>
        </div>
      </div>

      <div class="topbar-right">
        <div id="userBadge" class="pill hidden"></div>
        <button id="btnSwitchRole" class="btn ghost hidden" title="Switch role">Switch role</button>
      </div>
    </header>

    <main class="container">
      <!-- Login -->
      <section id="viewLogin" class="view">
        <div class="card hero">
          <div class="hero-top">
            <div>
              <h1>Executive visibility, without report chaos</h1>
              <p class="muted">
                Clickable interface mock-up for <b>Project/Account Manager</b> and <b>General Manager</b>.
                Uses local demo data (no backend).
              </p>
            </div>
            <div class="hero-actions">
              <button id="seedData" class="btn">Seed demo data</button>
              <button id="resetData" class="btn danger">Reset</button>
            </div>
          </div>

          <div class="grid2">
            <div class="card inner">
              <div class="tile-head">
                <div class="tile-ic">üß≠</div>
                <div>
                  <h2>PAM workspace</h2>
                  <div class="muted mini">Fast weekly updates per client + monthly rollups.</div>
                </div>
              </div>
              <button id="loginPAM" class="btn primary w100">Enter PAM</button>
              <div class="mini muted mt8">Designed for ~5 min / client. If nothing changed, keep previous status valid.</div>
            </div>

            <div class="card inner">
              <div class="tile-head">
                <div class="tile-ic">üìä</div>
                <div>
                  <h2>GM dashboard</h2>
                  <div class="muted mini">One-glance portfolio + drill-down.</div>
                </div>
              </div>
              <button id="loginGM" class="btn primary w100">Enter GM</button>
              <div class="mini muted mt8">Highlights attention needed, stale updates, commercial signals.</div>
            </div>
          </div>

          <div class="callout">
            <div class="callout-title">Suggested demo flow</div>
            <ol class="mini muted">
              <li>Seed data ‚Üí login as PAM ‚Üí open a Red client ‚Üí add escalation ‚Üí Save.</li>
              <li>Switch role ‚Üí GM dashboard shows updated attention list immediately.</li>
              <li>Click a client row ‚Üí drill-down drawer shows full weekly context.</li>
            </ol>
          </div>
        </div>
      </section>

      <!-- PAM -->
      <section id="viewPAM" class="view hidden">
        <div class="row space">
          <div>
            <h2>Project / Account Manager</h2>
            <div class="muted mini">Weekly per-client report ¬∑ fast update flow</div>
          </div>
          <div class="row gap">
            <div class="seg">
              <button class="seg-btn active" data-tab="clients">Clients</button>
              <button class="seg-btn" data-tab="monthly">Monthly</button>
            </div>
            <button id="btnPAMNewClient" class="btn">+ Add client</button>
          </div>
        </div>

        <div class="grid3">
          <div class="card">
            <div class="card-title">Client list</div>
            <div class="row gap">
              <input id="pamSearch" class="input" placeholder="Search clients‚Ä¶" />
              <select id="pamFilterStatus" class="input">
                <option value="">All</option>
                <option value="Green">Green</option>
                <option value="Amber">Amber</option>
                <option value="Red">Red</option>
              </select>
            </div>
            <div id="pamClientList" class="list"></div>
          </div>

          <div class="card span2">
            <div class="row space">
              <div>
                <div class="card-title" id="pamEditorTitle">Select a client</div>
                <div class="muted mini" id="pamEditorSub">Pick a client to edit their weekly report.</div>
              </div>
              <div class="row gap">
                <button id="btnMarkNoChange" class="btn ghost hidden">Mark ‚ÄúNo change‚Äù</button>
                <button id="btnSaveWeekly" class="btn primary hidden">Save</button>
              </div>
            </div>

            <div id="pamEditor" class="hidden">
              <div class="grid2">
                <div>
                  <label class="label">Client health status</label>
                  <div class="row gap">
                    <button class="status-btn" data-status="Green">Green</button>
                    <button class="status-btn" data-status="Amber">Amber</button>
                    <button class="status-btn" data-status="Red">Red</button>
                  </div>
                  <div class="mini muted">If unchanged, avoid edits ‚Äî status remains valid.</div>
                </div>

                <div>
                  <label class="label">Last updated</label>
                  <div class="pill" id="pamLastUpdated">‚Äî</div>
                  <div class="mini muted">GM uses freshness to spot stale updates.</div>
                </div>
              </div>

              <div class="grid2 mt12">
                <div>
                  <label class="label">Open commitments & promised delivery dates</label>
                  <textarea id="pamCommitments" class="textarea" rows="4" placeholder="‚Ä¢ Deliver X by 2026-03-01 ‚Ä¶"></textarea>
                </div>
                <div>
                  <label class="label">Key risks (delivery / operational / commercial)</label>
                  <textarea id="pamRisks" class="textarea" rows="4" placeholder="‚Ä¢ Risk: ‚Ä¶ Mitigation: ‚Ä¶ Owner: ‚Ä¶"></textarea>
                </div>
              </div>

              <div class="grid2 mt12">
                <div>
                  <label class="label">Open incidents impacting client</label>
                  <textarea id="pamIncidents" class="textarea" rows="4" placeholder="‚Ä¢ Sev2 outage on ‚Ä¶ Impact ‚Ä¶"></textarea>
                </div>
                <div>
                  <label class="label">Escalations required</label>
                  <textarea id="pamEscalations" class="textarea" rows="4" placeholder="Decision needed / resource conflict / support from GM‚Ä¶"></textarea>
                </div>
              </div>

              <div class="grid2 mt12">
                <div>
                  <label class="label">Notes / narrative (optional)</label>
                  <textarea id="pamNotes" class="textarea" rows="3" placeholder="Context for GM: what changed, why it matters‚Ä¶"></textarea>
                </div>
                <div>
                  <label class="label">Quick tags</label>
                  <div class="chips" id="pamChips"></div>
                  <div class="mini muted">Use tags to highlight themes (renewal, incidents, delivery‚Ä¶)</div>
                </div>
              </div>
            </div>

            <div id="pamEmpty" class="empty">
              <div class="empty-title">No client selected</div>
              <div class="muted">Choose a client from the list, or add a new one.</div>
            </div>
          </div>
        </div>

        <div id="pamMonthly" class="card hidden mt12">
          <div class="row space">
            <div>
              <div class="card-title">Monthly rollup (per manager)</div>
              <div class="mini muted">Portfolio-level KPIs used for monthly exec review.</div>
            </div>
            <button id="btnSaveMonthly" class="btn primary">Save monthly</button>
          </div>

          <div class="grid3 mt12">
            <div>
              <label class="label">Active clients</label>
              <input id="mActiveClients" class="input" type="number" min="0" />
            </div>
            <div>
              <label class="label">Revenue at risk (‚Ç¨)</label>
              <input id="mRevenueAtRisk" class="input" type="number" min="0" step="1000" />
            </div>
            <div>
              <label class="label">Renewals / expansions expected</label>
              <input id="mRenewals" class="input" placeholder="e.g., 3 renewals, 1 upsell" />
            </div>
          </div>

          <div class="grid2 mt12">
            <div>
              <label class="label">Contractual obligations due next quarter</label>
              <textarea id="mObligations" class="textarea" rows="3"></textarea>
            </div>
            <div>
              <label class="label">Scope changes requested vs approved</label>
              <textarea id="mScopeChanges" class="textarea" rows="3"></textarea>
            </div>
          </div>

          <div class="grid3 mt12">
            <div>
              <label class="label">Open client requests (by priority)</label>
              <textarea id="mRequests" class="textarea" rows="3" placeholder="P0: 1, P1: 4, P2: 7"></textarea>
            </div>
            <div>
              <label class="label">Avg ticket age (days)</label>
              <input id="mAvgTicketAge" class="input" type="number" min="0" />
            </div>
            <div>
              <label class="label">Delivery predictability</label>
              <input id="mPredictability" class="input" placeholder="e.g., 85% on-time" />
            </div>
          </div>

          <div class="grid2 mt12">
            <div>
              <label class="label">Client-facing incidents (count & severity)</label>
              <textarea id="mCFIncidents" class="textarea" rows="3"></textarea>
            </div>
            <div>
              <label class="label">Adoption / usage signals</label>
              <textarea id="mAdoption" class="textarea" rows="3"></textarea>
            </div>
          </div>
        </div>
      </section>

      <!-- GM -->
      <section id="viewGM" class="view hidden">
        <div class="row space">
          <div>
            <h2>General Manager dashboard</h2>
            <div class="muted mini">Portfolio overview ¬∑ drill down by client and manager</div>
          </div>
          <div class="row gap">
            <input id="gmSearch" class="input" placeholder="Search clients‚Ä¶" />
            <select id="gmFilterFresh" class="input">
              <option value="">Freshness: All</option>
              <option value="fresh">Updated ‚â§ 7 days</option>
              <option value="stale">Stale &gt; 7 days</option>
            </select>
          </div>
        </div>

        <div class="kpi-grid mt12">
          <div class="kpi card">
            <div class="kpi-label">Clients</div>
            <div class="kpi-value" id="gmKpiClients">‚Äî</div>
            <div class="kpi-foot muted mini">Tracked</div>
          </div>
          <div class="kpi card">
            <div class="kpi-label">Health</div>
            <div class="kpi-value" id="gmKpiHealth">‚Äî</div>
            <div class="kpi-foot muted mini">Green / Amber / Red</div>
          </div>
          <div class="kpi card">
            <div class="kpi-label">Revenue at risk</div>
            <div class="kpi-value" id="gmKpiRAR">‚Äî</div>
            <div class="kpi-foot muted mini">Monthly rollup + client flags</div>
          </div>
          <div class="kpi card">
            <div class="kpi-label">Incidents</div>
            <div class="kpi-value" id="gmKpiIncidents">‚Äî</div>
            <div class="kpi-foot muted mini">Clients listing incidents</div>
          </div>
        </div>

        <div class="grid3 mt12">
          <div class="card">
            <div class="card-title">Attention needed</div>
            <div class="mini muted">Red health or escalation requested</div>
            <div id="gmAttention" class="list"></div>
          </div>
          <div class="card">
            <div class="card-title">Stale updates</div>
            <div class="mini muted">Last updated &gt; 7 days</div>
            <div id="gmStale" class="list"></div>
          </div>
          <div class="card">
            <div class="card-title">Commercial signals</div>
            <div class="mini muted">Renewal / upsell / VIP tags</div>
            <div id="gmCommercial" class="list"></div>
          </div>
        </div>

        <div class="card mt12">
          <div class="row space">
            <div>
              <div class="card-title">All clients</div>
              <div class="mini muted">Click a row to drill down.</div>
            </div>
            <div class="row gap">
              <button id="gmExport" class="btn ghost">Export (JSON)</button>
            </div>
          </div>
          <div class="table-wrap mt8">
            <table class="table" id="gmTable">
              <thead>
                <tr>
                  <th>Client</th>
                  <th>Health</th>
                  <th>Updated</th>
                  <th>Revenue at risk</th>
                  <th>Risks</th>
                  <th>Incidents</th>
                  <th>Escalation</th>
                  <th>Tags</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <div id="gmDrawer" class="drawer hidden">
          <div class="drawer-card card">
            <div class="row space">
              <div>
                <div class="drawer-title" id="gmDrawerTitle">Client</div>
                <div class="mini muted" id="gmDrawerSub">Weekly details</div>
              </div>
              <button id="gmDrawerClose" class="btn ghost">Close</button>
            </div>

            <div class="drawer-body mt12">
              <div class="grid2">
                <div>
                  <div class="label">Commitments</div>
                  <div class="pre" id="gmDCommitments"></div>
                </div>
                <div>
                  <div class="label">Key risks</div>
                  <div class="pre" id="gmDRisks"></div>
                </div>
              </div>

              <div class="grid2 mt12">
                <div>
                  <div class="label">Incidents</div>
                  <div class="pre" id="gmDIncidents"></div>
                </div>
                <div>
                  <div class="label">Escalations</div>
                  <div class="pre" id="gmDEscalations"></div>
                </div>
              </div>

              <div class="mt12">
                <div class="label">Notes</div>
                <div class="pre" id="gmDNotes"></div>
              </div>

              <div class="mt12">
                <div class="label">Signals</div>
                <div class="pre" id="gmDSignals"></div>
              </div>

              <hr class="sep" />
              <div class="mini muted">
                Mock-up only. In production, add KPI trends, ticket aging, incident severity timeline, renewal probability, and owners.
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
